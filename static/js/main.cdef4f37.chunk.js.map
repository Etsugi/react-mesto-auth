{"version":3,"sources":["components/ProtectedRoute.js","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProflePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmPopup.js","components/Login.js","components/Register.js","images/sign-ok.svg","images/sign-fail.svg","components/InfoTooltip.js","utils/Api.js","utils/Auth.js","components/App.js","index.js"],"names":["ProtectedRoute","Component","component","props","loggedIn","to","Header","location","useLocation","React","useState","inMenuHeader","setMenuHeader","className","type","onClick","pathname","userEmail","e","preventDefault","onSignOut","CurrentUserContext","createContext","Card","user","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","onCardClick","alt","name","src","link","onCardLike","likeCounter","onConfirm","Main","profile","avatar","onEditAvatar","onEditProfile","id","about","onAddPlace","cards","map","length","now","Date","getFullYear","Footer","ImagePopup","onClose","PopupWithForm","isOpen","onSubmit","noValidate","title","children","buttonText","EditProfilePopup","setName","description","setDescription","setButtonText","useEffect","onUpdateUser","onChange","target","value","placeholder","minLength","maxLength","required","EditAvatarPopup","avatarRef","useRef","current","onUpdateAvatar","ref","defaultValue","AddPlacePopup","setTitle","setLink","ConfirmPopup","Login","email","setEmail","password","setPassword","onAuthorization","autoComplete","Register","onRegistration","InfoTooltip","registrationState","signImageOk","signImageFail","api","config","this","_url","baseUrl","_headers","headers","fetch","method","then","res","_getResponseData","data","body","JSON","stringify","cardId","disLikeCard","likeCard","ok","json","Promise","reject","status","authorization","BASE_URL","register","catch","err","alert","authorize","checkToken","token","App","history","useHistory","setLoggedIn","checkAuthorize","setRegistrationState","setUserEmail","currentUser","setCurrentUser","getUserInfo","setProfile","setCards","getCards","isInfoTooltipPopupOpen","setInfoTooltipPopupOpen","isEditProfilePopupOpen","setEditProfilePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isConfirmPopupOpen","setConfirmPopupOpen","selectedCard","setSelectedCard","confirmElement","setConfirmElement","localStorage","getItem","jwt","auth","console","log","push","clickInfoTooltipPopupOpen","closeAllPopups","Provider","removeItem","path","setItem","changeLikeCardStatus","newCard","newCards","c","userData","updateUserInfo","updateUserAvatar","addCard","deleteCard","filter","item","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.cdef4f37.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props  }) => {\r\n  return (\r\n    <Route>\r\n      {\r\n        () => props.loggedIn ? <Component {...props} /> : <Redirect to=\"/sign-in\" />\r\n      }\r\n    </Route>\r\n)}\r\n\r\nexport default ProtectedRoute;\r\n","import React from 'react';\r\nimport { NavLink, useLocation } from 'react-router-dom';\r\n\r\nfunction Header(props) {\r\n  const location = useLocation();\r\n  const [inMenuHeader, setMenuHeader] = React.useState(false);\r\n\r\n  function handleMenu() {\r\n    setMenuHeader(!inMenuHeader)\r\n  }\r\n  function handleSignOut(e) {\r\n    e.preventDefault();\r\n    setMenuHeader(false);\r\n    props.onSignOut();\r\n  }\r\n  return (\r\n    <header className={inMenuHeader ? 'header header_reverse' : 'header'}>\r\n      <div className=\"header__logo\">\r\n        {props.loggedIn === true && \r\n          (\r\n          <button className={inMenuHeader ? 'header__button-menu header__button-menu_opened' : 'header__button-menu'} type=\"checkbox\" onClick={handleMenu}></button>\r\n          )\r\n        }\r\n      </div>\r\n        \r\n      {props.loggedIn === true && location.pathname === '/' &&\r\n        (\r\n          <div className={inMenuHeader ? 'header__container-opened' : 'header__container header__container-mobile'}>\r\n            <p className={inMenuHeader ? 'header__user_menu-opened' : 'header__user'}>{props.userEmail}</p>\r\n            <button className={inMenuHeader ? 'header__navlink_menu-opened header__navlink_signout' : 'header__navlink header__navlink_signout'} type=\"submit\" \r\n              onClick={handleSignOut}>Выйти</button>\r\n          </div>\r\n        )\r\n      }\r\n        \r\n      {location.pathname === '/sign-in' &&\r\n        (\r\n          <div className=\"header__container\">\r\n            <NavLink className=\"header__navlink\" to=\"/sign-up\">\r\n              Регистрация\r\n            </NavLink>\r\n          </div>\r\n        )\r\n      }\r\n      {location.pathname === '/sign-up' &&\r\n        (\r\n          <div className=\"header__container\">\r\n            <NavLink className=\"header__navlink\" to=\"/sign-in\">\r\n              Войти\r\n            </NavLink>\r\n          </div>\r\n        )\r\n      }\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\n\r\nfunction Card(props) {\r\n  const user = React.useContext(CurrentUserContext);\r\n  const isOwn = props.card.owner._id === user._id;\r\n  const cardDeleteButtonClassName = (`element__trash-button ${isOwn ? '' : 'element__trash-button-disabled'}`);\r\n  const isLiked = props.card.likes.some(i => i._id === user._id);\r\n  const cardLikeButtonClassName = (`element__like-button ${isLiked ? 'element__like-button_active' : ''}`);  \r\n\r\n  function handleClick() {\r\n    props.onCardClick(props.card);\r\n  } \r\n\r\n  function handleLikeClick() {\r\n    props.onCardLike(props.card);\r\n  }\r\n  function handleDeleteClick() {\r\n    props.onConfirm(props.card);\r\n  }\r\n\r\n  return (\r\n    <article className=\"element\">\r\n      <img onClick={handleClick} className=\"element__image\" alt={props.card.name} src={props.card.link} />\r\n      <div className=\"element__group\">\r\n        <p className=\"element__text\">{props.card.name}</p>\r\n        <button onClick={handleLikeClick} type=\"button\" className={cardLikeButtonClassName}>\r\n          <p className=\"element__like-counter\">{props.likeCounter}</p>\r\n        </button>\r\n      </div>\r\n      <button onClick={handleDeleteClick} type=\"button\" className={cardDeleteButtonClassName}></button>\r\n    </article>\r\n  );\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\nimport Card from \"./Card.js\";\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\n\r\nfunction Main(props) {\r\n  const user = React.useContext(CurrentUserContext);\r\n  return (\r\n    <main className={props.profile}>\r\n      <section className=\"profile\">\r\n        <div className=\"profile__avatar\">\r\n          <img className=\"profile__avatar-image\" alt=\"Фото профиля\" src={`${user.avatar}`} />\r\n          <button type=\"button\" onClick={props.onEditAvatar} className=\"profile__avatar-update-button\" />\r\n        </div>\r\n        <div className=\"profile__info\">\r\n          <div className=\"profile__info-group\">\r\n            <h1 className=\"profile__name\">{user.name}</h1>\r\n            <button type=\"button\" onClick={props.onEditProfile} className=\"profile__edit-button\" id=\"edit-profile\" />\r\n          </div>\r\n          <p className=\"profile__description\">{user.about}</p>\r\n        </div>\r\n        <button type=\"button\" onClick={props.onAddPlace} className=\"profile__add-button\" id=\"add-card\" />\r\n      </section>\r\n      <section className=\"elements\" id=\"elements\">\r\n        {props.cards.map(card => \r\n          <Card\r\n            key={card._id}\r\n            card={card}\r\n            onCardClick={props.onCardClick}\r\n            likeCounter={card.likes.length}\r\n            onCardLike={props.onCardLike}\r\n            onConfirm={props.onConfirm}\r\n          />        \r\n        )}\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;","const now = new Date().getFullYear();\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">&copy; {now} Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;","function ImagePopup(props) {\r\n  return (\r\n    <div className={`popup ${props.card && 'popup_opened'}`} id={props.name}>\r\n        <div className=\"popup__image-container\">\r\n          <img className=\"popup__image\" alt={props.card.name} src={`${props.card.link}`} />\r\n          <p className=\"popup__image-description\">{props.card.name}</p>\r\n          <button type=\"button\" onClick={props.onClose} className=\"popup__close-button\"></button>\r\n        </div>\r\n        <div onClick={props.onClose} className=\"popup__overlay popup__overlay_for-image\"></div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;","function PopupWithForm(props) {\r\n  return (\r\n    <div className={`popup ${props.isOpen && 'popup_opened'}`} id={props.name}>\r\n      <form onSubmit={props.onSubmit} className=\"popup__form\" name={props.name} noValidate>\r\n        <h2 className=\"popup__form-heading\">{props.title}</h2>\r\n        {props.children}\r\n        <button type=\"submit\" className=\"popup__save-button\">{props.buttonText}</button>\r\n        <button type=\"button\" onClick={props.onClose} className=\"popup__close-button\" />\r\n      </form>\r\n      <div onClick={props.onClose} className=\"popup__overlay\"></div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;","import React from 'react';\r\nimport PopupWithForm from \"./PopupWithForm.js\";\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\n\r\nfunction EditProfilePopup(props) {\r\n  const user = React.useContext(CurrentUserContext);\r\n  const [name, setName] = React.useState('');\r\n  const [description, setDescription] = React.useState('');\r\n  const [buttonText, setButtonText] = React.useState('');\r\n\r\n  React.useEffect(() => {\r\n    setName(user.name);\r\n    setDescription(user.about);\r\n  }, [user]); \r\n\r\n  React.useEffect(() => {\r\n    setName(user.name);\r\n    setDescription(user.about);\r\n    setButtonText('Сохранить');\r\n  }, [props.isOpen]); \r\n\r\n  function handleNameChange(e) {\r\n    setName(e.target.value);\r\n  }\r\n  function handleDescriptionChange(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    setButtonText('Загрузка...');\r\n    props.onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n\r\n  return (\r\n    <PopupWithForm\r\n        name=\"edit-profile\"\r\n        title=\"Редактировать профиль\"\r\n        buttonText={buttonText}\r\n        isOpen={props.isOpen}\r\n        onClose={props.onClose}\r\n        onSubmit={handleSubmit}\r\n      >\r\n          <input onChange={handleNameChange} value={name || ``} type=\"text\" name=\"name\" placeholder=\"Имя\" minLength=\"2\" maxLength=\"40\"\r\n            className=\"popup__input popup__input_name\" required />\r\n          <span className='popup__input_error' id='name-input-error'></span>\r\n          <input onChange={handleDescriptionChange} value={description || ``} type=\"text\" name=\"about\" placeholder=\"Описание\" minLength=\"2\" maxLength=\"200\"\r\n            className=\"popup__input popup__input_description\" required />\r\n          <span className='popup__input_error' id='about-input-error'></span>\r\n      </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from \"./PopupWithForm.js\";\r\n\r\nfunction EditAvatarPopup(props) {\r\n  const avatarRef = React.useRef();\r\n  const [buttonText, setButtonText] = React.useState('');\r\n\r\n  React.useEffect(() => {\r\n    avatarRef.current.value = '';\r\n    setButtonText('Сохранить');\r\n  }, [props.isOpen]); \r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    setButtonText('Загрузка...');\r\n    props.onUpdateAvatar({\r\n      avatar: avatarRef.current.value,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n        name=\"edit-avatar-profile\"\r\n        title=\"Обновить аватар\"\r\n        buttonText={buttonText}\r\n        isOpen={props.isOpen}\r\n        onClose={props.onClose}\r\n        onSubmit={handleSubmit}\r\n      >\r\n          <input ref={avatarRef} defaultValue='' type=\"url\" name=\"avatar\" placeholder=\"Ссылка на картинку\"\r\n            className=\"popup__input popup__input_source\" required />\r\n          <span className='popup__input_error' id='avatar-input-error'></span>\r\n      </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport PopupWithForm from \"./PopupWithForm.js\";\r\n\r\nfunction AddPlacePopup(props) {\r\n  const [title, setTitle] = React.useState('');\r\n  const [link, setLink] = React.useState('');\r\n  const [buttonText, setButtonText] = React.useState('');\r\n\r\n  React.useEffect(() => {\r\n    setTitle('');\r\n    setLink('');\r\n    setButtonText('Создать');\r\n  }, [props.isOpen]); \r\n\r\n  function handleSetTitle(e) {\r\n    setTitle(e.target.value);\r\n  }\r\n  function handleSetLink(e) {\r\n    setLink(e.target.value);\r\n  }\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    setButtonText('Загрузка...');\r\n    props.onAddPlace({\r\n      name: title,\r\n      link\r\n    });\r\n  }\r\n\r\n\r\n  return (\r\n    <PopupWithForm\r\n        name=\"add-card\"\r\n        title=\"Новое место\"\r\n        buttonText={buttonText}\r\n        isOpen={props.isOpen}\r\n        onClose={props.onClose}\r\n        onSubmit={handleSubmit}\r\n      >\r\n          <input onChange={handleSetTitle} value={title} type=\"text\" name=\"title\" placeholder=\"Название\" minLength=\"1\" maxLength=\"30\"\r\n            className=\"popup__input popup__input_title\" required />\r\n          <span className='popup__input_error' id='title-input-error'></span>\r\n          <input onChange={handleSetLink} value={link} type=\"url\" name=\"link\" placeholder=\"Ссылка на картинку\"\r\n            className=\"popup__input popup__input_source\" required />\r\n          <span className='popup__input_error' id='source-input-error'></span>\r\n      </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default AddPlacePopup;","import React from 'react';\r\nimport PopupWithForm from \"./PopupWithForm.js\";\r\n\r\nfunction ConfirmPopup(props) {\r\n  const [buttonText, setButtonText] = React.useState('');\r\n\r\n  React.useEffect(() => {\r\n    setButtonText('Да');\r\n  }, [props.isOpen]); \r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    setButtonText('Загрузка...');\r\n    props.onConfirm();\r\n  }\r\n\r\n\r\n  return (\r\n    <PopupWithForm\r\n        name=\"confirm\"\r\n        title=\"Вы уверены?\"\r\n        buttonText={buttonText}\r\n        isOpen={props.isOpen}\r\n        onClose={props.onClose}\r\n        onSubmit={handleSubmit}\r\n      >\r\n      </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default ConfirmPopup;","import React from 'react';\r\n\r\nfunction Login(props) {\r\n  const [email, setEmail] = React.useState('');\r\n  const [password, setPassword] = React.useState('');\r\n\r\n  function handleEmailChange(e) {\r\n    setEmail(e.target.value);\r\n  }\r\n  function handlePasswordChange(e) {\r\n    setPassword(e.target.value);\r\n  }\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onAuthorization({\r\n      email,\r\n      password\r\n    });\r\n  }\r\n\r\n  return (\r\n    <form className=\"sign__form\" onSubmit={handleSubmit} noValidate>\r\n      <h2 className=\"sign__title\">Вход</h2>\r\n      <input onChange={handleEmailChange} defaultValue={''} type=\"text\" name=\"email\" placeholder=\"Email\" maxLength=\"50\" \r\n        className=\"sign__input\" required />\r\n      <input onChange={handlePasswordChange} defaultValue={''} type=\"password\" autoComplete=\"on\" name=\"password\" placeholder=\"Пароль\" \r\n        className=\"sign__input\" required />\r\n      <button className=\"sign__button\" type=\"submit\">Войти</button>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default Login;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nfunction Register(props) {\r\n  const [email, setEmail] = React.useState('');\r\n  const [password, setPassword] = React.useState('');\r\n\r\n  function handleEmailChange(e) {\r\n    setEmail(e.target.value);\r\n  }\r\n  function handlePasswordChange(e) {\r\n    setPassword(e.target.value);\r\n  }\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onRegistration({\r\n      email,\r\n      password\r\n    });\r\n  }\r\n\r\n  return (\r\n    <form className=\"sign__form\" onSubmit={handleSubmit} noValidate>\r\n    <h2 className=\"sign__title\">Регистрация</h2>\r\n    <input onChange={handleEmailChange} defaultValue={''} type=\"text\" name=\"email\" placeholder=\"Email\" maxLength=\"50\" \r\n      className=\"sign__input\" required />\r\n    <input onChange={handlePasswordChange} defaultValue={''} type=\"password\" autoComplete=\"on\" name=\"password\" placeholder=\"Пароль\" \r\n      className=\"sign__input\" required />\r\n    <button className=\"sign__button\" type=\"submit\">Зарегистрироваться</button>\r\n    <NavLink to=\"/sign-in\" className=\"sign__button_dark\" type=\"button\">Уже зарегистрированы? Войти</NavLink>\r\n  </form>\r\n  );\r\n}\r\n\r\nexport default Register;","export default __webpack_public_path__ + \"static/media/sign-ok.e004e6e7.svg\";","export default __webpack_public_path__ + \"static/media/sign-fail.471086c8.svg\";","import React from 'react';\r\n\r\nimport signImageOk from '../images/sign-ok.svg'\r\nimport signImageFail from '../images/sign-fail.svg'\r\n\r\nfunction InfoTooltip(props) {\r\n  return (\r\n    <div className={`popup ${props.isOpen && 'popup_opened'}`}>\r\n      <div className=\"popup-tooltip__container\">\r\n        <img className=\"popup__icon\"\r\n          src={props.registrationState ? signImageOk : signImageFail}\r\n          alt={props.registrationState ? 'Иконка успешной регистрации' : 'Иконка неудачной регистрации'}\r\n        />\r\n        <h2 className=\"popup__message\">\r\n          {props.registrationState ? 'Вы успешно зарегистрировались!' : 'Что-то пошло не так! Попробуйте ещё раз.'}\r\n        </h2>\r\n        <button type=\"button\" onClick={props.onClose} className=\"popup-tooltip__close-button\" />\r\n      </div>\r\n      <div onClick={props.onClose} className=\"popup__overlay\"></div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default InfoTooltip;","class Api {\n  constructor (config) {\n    this._url = config.baseUrl;\n    this._headers = config.headers;\n  }\n\n  getUserInfo() {\n    return fetch(`${this._url}/users/me`, {\n      method: 'GET',\n      headers: this._headers\n    }).then((res) => {\n      return this._getResponseData(res);\n    })\n  }\n\n  updateUserInfo(data) {\n    return fetch(`${this._url}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about\n      })\n    }).then((res) => {\n      return this._getResponseData(res);\n    })\n  }\n\n  updateUserAvatar(data) {\n    return fetch(`${this._url}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: data.avatar\n      })\n    }).then((res) => {\n      return this._getResponseData(res);\n    })\n  }\n\n  getCards() {\n    return fetch(`${this._url}/cards`, {\n      method: 'GET',\n      headers: this._headers\n    }).then((res) => {\n      return this._getResponseData(res);\n    })\n  }\n\n  addCard(data) {\n    return fetch(`${this._url}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        link: data.link\n      })\n    }).then((res) => {\n      return this._getResponseData(res);\n    })\n  }\n\n  deleteCard(data) {\n    return fetch(`${this._url}/cards/${data._id}`, {\n      method: 'DELETE',\n      headers: this._headers,\n      body: JSON.stringify({\n      })\n    }).then((res) => {\n      return this._getResponseData(res);\n    })\n  }\n\n  changeLikeCardStatus(cardId, isLiked) {\n    if(isLiked) {\n      return this.disLikeCard(cardId);\n    }\n    else {\n      return this.likeCard(cardId);\n    }\n  }\n\n  likeCard(cardId) {\n    return fetch(`${this._url}/cards/likes/${cardId}`, {\n      method: 'PUT',\n      headers: this._headers,\n    }).then((res) => {\n      return this._getResponseData(res);\n    })\n  }\n\n  disLikeCard(cardId) {\n    return fetch(`${this._url}/cards/likes/${cardId}`, {\n      method: 'DELETE',\n      headers: this._headers,\n    }).then((res) => {\n      return this._getResponseData(res);\n    })\n  }\n\n  _getResponseData(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    else return Promise.reject(`Ошибка: ${res.status}`);\n  }\n\n  /*getAllData() {\n    return Promise.all([this.getUserInfo(), this.getCards()]);\n  }*/\n}\n\nconst api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-16',\n  headers: {\n    authorization: 'a3935a49-8230-429f-9fab-7d2d6f416793',\n    'Content-Type': 'application/json'\n  }\n});\n\nexport default api;","const BASE_URL = 'https://auth.nomoreparties.co';\r\n\r\nfunction register(data) {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({\r\n      email: data.email, \r\n      password: data.password\r\n    })\r\n  })\r\n  .then((res) => {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return res.status;\r\n  })\r\n  .catch((err) => \r\n    alert(err));\r\n}; \r\n\r\nfunction authorize(data) {\r\n  return fetch(`${BASE_URL}/signin`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({\r\n      email: data.email, \r\n      password: data.password\r\n    })\r\n  })\r\n  .then((res) => {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return res.status;\r\n  })\r\n  .catch((err) => \r\n    alert(err));\r\n}; \r\n\r\nfunction checkToken(token) {\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    method: 'GET',\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json',\r\n      \"Authorization\" : `Bearer ${token}`\r\n    }\r\n  })\r\n  .then((res) => {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return res.status;\r\n  })\r\n  .catch((err) => \r\n    alert(err));\r\n}\r\n\r\nexport default {\r\n  register,\r\n  authorize,\r\n  checkToken\r\n}","import React from 'react';\nimport { Route, Switch, useHistory } from 'react-router-dom';\nimport ProtectedRoute from './ProtectedRoute';\n\nimport Header from \"./Header.js\";\nimport Main from \"./Main.js\";\nimport Footer from \"./Footer.js\";\nimport ImagePopup from \"./ImagePopup.js\";\nimport EditProfilePopup from './EditProflePopup.js';\nimport EditAvatarPopup from './EditAvatarPopup.js';\nimport AddPlacePopup from './AddPlacePopup.js';\nimport ConfirmPopup from './ConfirmPopup.js';\nimport Login from './Login.js';\nimport Register from './Register.js';\nimport InfoTooltip from './InfoTooltip.js';\n\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\n\nimport api from '../utils/Api.js';\nimport auth from '../utils/Auth.js';\n\nfunction App() {\n  const history = useHistory();\n\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  React.useEffect(() => {\n    checkAuthorize();\n  }, []);\n\n  const [registrationState, setRegistrationState] = React.useState(false);\n  const [userEmail, setUserEmail] = React.useState('');\n\n  const [currentUser, setCurrentUser] = React.useState('');\n  React.useEffect(() => {\n    const initialCurrentUser = api.getUserInfo();\n    initialCurrentUser.then((data => {\n      const userData = data;\n      setCurrentUser(userData);\n      })\n    )\n    .then(() => {\n      setProfile('content');\n    })\n    .catch((err) => {\n      alert(err);\n    });\n  }, [])\n\n  const [cards, setCards] = React.useState([]);\n  React.useEffect(() => {\n    const initialCard = api.getCards();\n    initialCard.then((data => {\n      const card = data;\n      setCards(card);\n      })\n    )\n    .catch((err) => {\n      alert(err);\n    });\n  }, [])\n\n  const [profile, setProfile] = React.useState('content content-disabled');\n  const [isInfoTooltipPopupOpen, setInfoTooltipPopupOpen] = React.useState(false);\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false);\n  const [isConfirmPopupOpen, setConfirmPopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState('');\n  const [confirmElement, setConfirmElement] = React.useState('');\n\n  function checkAuthorize() {\n    if (localStorage.getItem('jwt')){\n      const jwt = localStorage.getItem('jwt');\n      auth.checkToken(jwt)\n      .then((data) => {\n        if(data === 401) {\n          console.log(\"Токен не передан или передан не в том формате!\");\n        }\n        else {\n          setLoggedIn(true);\n          setUserEmail(data.data.email);\n          history.push(\"/\");\n        }\n      })\n    }\n  }\n  function clickRegistration(data) {\n    setRegistrationState(false);\n    auth.register(data)\n    .then((data) => {\n      if(data === 400) {\n        setInfoTooltipPopupOpen(true);\n        console.log('Некорректно заполнено одно из полей из полей!');\n      }\n      else {\n        setRegistrationState(true);\n        clickInfoTooltipPopupOpen();\n        history.push(\"/sign-in\");\n      }\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n  }\n  function clickAutorization(data) {\n    auth.authorize(data)\n    .then((data) => {\n      if(data === 400) {\n        clickInfoTooltipPopupOpen();\n        console.log('Не передано одно из полей!');\n      }\n      else if(data === 401) {\n        clickInfoTooltipPopupOpen();\n        console.log('Пользователь с таким email не найден!');\n      }\n      else {\n        localStorage.setItem('jwt', data.token);\n        checkAuthorize();\n      }\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n  }\n  function clickSignOut() {\n    setLoggedIn(false);\n    localStorage.removeItem('jwt');\n    history.push('/sign-in');\n  }\n  function clickInfoTooltipPopupOpen() {\n    setInfoTooltipPopupOpen(true);\n  }\n  function clickEditProfilePopupOpen() {\n    setEditProfilePopupOpen(true);    \n  }\n  function clickEditAvatarPopupOpen() {\n    setEditAvatarPopupOpen(true);\n  }\n  function clickAddPlacePopupOpen() {\n    setAddPlacePopupOpen(true);\n  }\n  function clickImagePopupOpen(card) {\n    setSelectedCard(card);\n  }\n  function clickConfirmPopupOpen(card) {\n    setConfirmElement(card);\n    setConfirmPopupOpen(true);\n  }\n  function closeAllPopups() {\n    setInfoTooltipPopupOpen(false);\n    setEditProfilePopupOpen(false);\n    setEditAvatarPopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setConfirmPopupOpen(false);\n    setSelectedCard('');\n    setConfirmElement('');\n  }\n\n  function handleUpdateUser(userData) {\n    api.updateUserInfo(userData).then((userData) => {\n      setCurrentUser(userData);\n    })\n    .then(() => {\n      closeAllPopups();\n\n    })\n    .catch((err) => {\n      alert(err);\n    });\n  }\n\n  function handleUpdateAvatar(userData) {\n    api.updateUserAvatar(userData).then((userData) => {\n      setCurrentUser(userData);\n    })\n    .then(() => {\n      closeAllPopups();\n    })\n    .catch((err) => {\n      alert(err);\n    });\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    api.changeLikeCardStatus(card._id, isLiked).then((newCard) => {\n      const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n      setCards(newCards);\n    })\n    .catch((err) => {\n      alert(err);\n    });\n  } \n\n  function handleConfirm() {\n    handleCardDelete(confirmElement);\n  }\n\n  function handleCardDelete(card) {\n    api.deleteCard(card).then(() => {\n      const newCards = cards.filter((item) => !(item._id === card._id));\n      setCards(newCards);\n    })\n    .then(() => {\n      closeAllPopups();\n    })\n    .catch((err) => {\n      alert(err);\n    });\n  } \n\n  function handleAddPlace(card) {\n    api.addCard(card).then((card) => {\n      setCards([card, ...cards]);\n    })\n    .then(() => {\n      closeAllPopups();\n    })\n    .catch((err) => {\n      alert(err);\n    });\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser} >\n      <Header \n        loggedIn={loggedIn}\n        userEmail={userEmail}\n        onSignOut={clickSignOut}\n      />\n      <Switch>\n        <Route path=\"/sign-up\">\n          <Register \n            onRegistration={clickRegistration}\n            \n          />\n        </Route>\n        <Route path=\"/sign-in\">\n          <Login \n            onAuthorization={clickAutorization}\n            \n          />\n        </Route>\n        <ProtectedRoute\n          path=\"/\"\n          loggedIn={loggedIn}\n          component={Main}\n          profile={profile}\n          onEditProfile={clickEditProfilePopupOpen}\n          onEditAvatar={clickEditAvatarPopupOpen}\n          onAddPlace={clickAddPlacePopupOpen}\n          onConfirm={clickConfirmPopupOpen}\n          cards={cards}\n          onCardClick={clickImagePopupOpen}\n          onCardLike={handleCardLike}\n        />\n      </Switch>\n      <Footer />\n      \n      <InfoTooltip\n        registrationState={registrationState}\n        isOpen={isInfoTooltipPopupOpen} \n        onClose={closeAllPopups}\n        \n      />\n      <EditProfilePopup \n        isOpen={isEditProfilePopupOpen} \n        onClose={closeAllPopups}\n        onUpdateUser={handleUpdateUser}\n      />\n      <EditAvatarPopup \n        isOpen={isEditAvatarPopupOpen} \n        onClose={closeAllPopups}\n        onUpdateAvatar={handleUpdateAvatar}\n      />\n      <AddPlacePopup \n        isOpen={isAddPlacePopupOpen} \n        onClose={closeAllPopups}\n        onAddPlace={handleAddPlace}\n      />\n      <ConfirmPopup\n        isOpen={isConfirmPopupOpen} \n        onClose={closeAllPopups}\n        onConfirm={handleConfirm}\n      />\n      <ImagePopup\n        card={selectedCard}\n        onClose={closeAllPopups}\n      />\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App/>\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}